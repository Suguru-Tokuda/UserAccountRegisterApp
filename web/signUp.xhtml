<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui">
    <h:head>
        <title>Signup</title>
    </h:head>
    <h:body>
        <h:form>
            <h:panelGrid id="panel1" columns="2" 
                         cellpadding="5" cellspacing="1">
                <f:facet name="header">
                    <h:outputText value="Signup"/>
                </f:facet>
                <p:outputLabel value = "First Name:"/>
                <p:inputText id="FirstNameID" value="#{profileController.profile.firstName}">
                    <f:validateLength minimum="2" maximum="25"/>
                    <f:validateRequired for="FirstNameID"/>
                </p:inputText>
                
                <p:outputLabel value = "Last Name: "/>
                <p:inputText id="LastNameID" value="#{profileController.profile.lastName}">
                    <f:validateLength minimum="2" maximum="25" />
                    <f:validateRequired for="LastNameID"/>
                </p:inputText>
                
                <p:outputLabel value = "User ID: "/>
                <p:inputText id="UserID" value="#{profileController.profile.userID}" >
                    <f:validateRequired for="UserID"/>
                    <f:ajax event="keyup" render="userrName"/>
                </p:inputText>
                <p:outputLabel style = "color:red;" id="userrName" value="#{profileController.userResult}"/>
                <p></p>
                
                <p:outputLabel value = "Password: "/>
                <p:password id="Password" value="#{profileController.profile.password}" >  
                    <f:validateRegex pattern="((?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[@#$%]).{6,20})" />  
                </p:password>
                <p:outputLabel>
                    <p> Password requirements:
                        <ul><li>6 to 20 characters string </li>
                            <li>At least one digit</li>
                            <li>One upper case letter</li>
                            <li>One lower case letter</li>
                            <li>One special symbol (“@#$%”)</li></ul>
                    </p>
                </p:outputLabel>
                <p></p>
                
                <p:outputLabel value = "Confirm Password: "/>
                <p:password id="ConfirmPassword" value="#{profileController.profile.confirmPassword}" >
                    <f:validateRequired for="ConfirmPassword"/>
                </p:password>
                
                <p:outputLabel value = "Email: "/>
                <p:inputText id="Email" value="#{profileController.profile.email}">
                    <f:validateRequired for="Email"/>
                </p:inputText>
                
                <p:outputLabel value = "Security Question: "/>
                <p:inputText id="SecurityQuestion" value="#{profileController.profile.securityQuestion}">
                    <f:validateRequired for="SecurityQuestion"/>
                </p:inputText>
                
                <p:outputLabel value = "Security Answer: "/>
                <p:inputText id="SecurityAnswer" value="#{profileController.profile.securityAnswer}">
                    <f:validateRequired for="SecurityAnswer"/>
                </p:inputText>
                
                <f:facet name="footer">
                    <h:panelGroup style="display:block; text-align:center">
                        <p:commandButton id="submit" value="Submit" action = "#{profileController.createProfile()}"/><br/><br/>
                        <p:commandButton id="back" value="Back" action ="index.xhtml"/>
                    </h:panelGroup>
                </f:facet>
            </h:panelGrid>
        </h:form>
    </h:body>
</html>